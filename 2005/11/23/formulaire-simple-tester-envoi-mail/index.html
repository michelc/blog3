<!doctype html>
<html lang="fr-FR">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Un formulaire simple pour tester l&#39;envoi de mail - blog.pagesd.info</title>
    <link rel="shortcut icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="alternate" href="/atom.xml" title="blog.pagesd.info" type="application/atom+xml">
    <meta name="author" content="Michel" />
<link rel="canonical" href="https://blog3.pagesd.info/2005/11/23/formulaire-simple-tester-envoi-mail/" />
<meta property="og:title" content="Un formulaire simple pour tester l&#39;envoi de mail" />
<meta property="og:locale" content="fr-FR" />
<meta property="og:url" content="https://blog3.pagesd.info/2005/11/23/formulaire-simple-tester-envoi-mail/" />
<meta property="og:site_name" content="blog.pagesd.info" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2005-11-23T14:30:00.000Z" />
<script type="application/ld+json">{"headline":"blog.pagesd.info","dateModified":"2005-11-23T14:30:00.000Z","datePublished":"2005-11-23T14:30:00.000Z","inLanguage":"fr-FR","url":"https://blog3.pagesd.info/2005/11/23/formulaire-simple-tester-envoi-mail/","@type":"BlogPosting","image":"","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog3.pagesd.info/2005/11/23/formulaire-simple-tester-envoi-mail/"},"author":{"@type":"Person","name":"Michel"},"@context":"https://schema.org"}</script>
  </head>

  <body><div class="container">

    <header><nav>
      <a class="title" href="/">blog.pagesd.info</a>
      // <a href="/archives/">archives</a>
      // <a href="/traductions/">traductions</a>
    </nav></header>



<article>



  <header>
    <h1>
      <a href="/2005/11/23/formulaire-simple-tester-envoi-mail/">Un formulaire simple pour tester l&#39;envoi de mail</a>
    </h1>
    <p>
      <span>2005-11-23</span>
      <span>#.net</span><span>#code-snippets</span>
    </p>
  </header>

  <div>

<pre><code>&lt;%@ Page Language=&quot;C#&quot; %&gt;
&lt;%@ Import Namespace=&quot;System.Web.Mail&quot; %&gt;
&lt;script runat=&quot;server&quot;&gt;
void btnSubmit_Click(Object sender, EventArgs e) {
  MailMessage mail = new MailMessage();
  mail.To = txtTo.Text;
  mail.From = txtFrom.Text;
  mail.Subject = txtSubject.Text;
  mail.Body = txtMessage.Text;
  mail.Priority = MailPriority.High;
  mail.BodyFormat = MailFormat.Text;
  SmtpMail.SmtpServer = txtSmtpServer.Text;
  if (txtSmtpUsername.Text.Trim() != &quot;&quot;) {
    if (txtSmtpPassword.Text.Trim() != &quot;&quot;) {
      mail.Fields.Add(&quot;http://schemas.microsoft.com/cdo/configuration/smtpauthenticate&quot;, &quot;1&quot;);
      mail.Fields.Add(&quot;http://schemas.microsoft.com/cdo/configuration/sendusername&quot;, txtSmtpUsername.Text);
      mail.Fields.Add(&quot;http://schemas.microsoft.com/cdo/configuration/sendpassword&quot;, txtSmtpPassword.Text);
    }
  }
  try {
    SmtpMail.Send(mail);
    Response.Write(&quot;OK!&quot;);
  } catch (Exception ex) {
    Response.Write(&quot;KO: &quot; + ex.ToString());
  }
}
&lt;/script&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
    &lt;title&gt;Mail test&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;form runat=&quot;server&quot;&gt;
      &lt;ul&gt;
        &lt;li&gt;Smtp Server : &lt;asp:TextBox id=&quot;txtSmtpServer&quot; runat=&quot;server&quot;&gt;&lt;/asp:TextBox&gt;&lt;/li&gt;
        &lt;li&gt;Smtp Username : &lt;asp:TextBox id=&quot;txtSmtpUsername&quot; runat=&quot;server&quot;&gt;&lt;/asp:TextBox&gt;&lt;/li&gt;
        &lt;li&gt;Smtp Password : &lt;asp:TextBox id=&quot;txtSmtpPassword&quot; runat=&quot;server&quot;&gt;&lt;/asp:TextBox&gt;&lt;/li&gt;
        &lt;li&gt;From : &lt;asp:TextBox id=&quot;txtFrom&quot; runat=&quot;server&quot;&gt;&lt;/asp:TextBox&gt;&lt;/li&gt;
        &lt;li&gt;To : &lt;asp:TextBox id=&quot;txtTo&quot; runat=&quot;server&quot;&gt;&lt;/asp:TextBox&gt;&lt;/li&gt;
        &lt;li&gt;Subject : &lt;asp:TextBox id=&quot;txtSubject&quot; runat=&quot;server&quot;&gt;&lt;/asp:TextBox&gt;&lt;/li&gt;
        &lt;li&gt;Message : &lt;asp:TextBox id=&quot;txtMessage&quot; TextMode=&quot;MultiLine&quot; runat=&quot;server&quot;&gt;&lt;/asp:TextBox&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;asp:Button runat=&quot;server&quot; id=&quot;btnSubmit&quot; OnClick=&quot;btnSubmit_Click&quot; Text=&quot;Send&quot;&gt;&lt;/asp:Button&gt;
    &lt;/form&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>


  </div>

</article><nav class="paginate">
  <a rel="prev" href="/2005/11/22/configuration-site/" hreflang="fr-FR">Configuration du site</a>
  <a rel="next" href="/2005/11/26/configuration-screeninfo/" hreflang="fr-FR">Configuration ScreenInfo</a>
</nav>



    <footer>
      <a href="/">blog.pagesd.info</a> --
      <a href="https://www.solitaire-play.com/">www.solitaire-play.com</a>
    </footer>

  </div></body>

</html>

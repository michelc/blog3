<!doctype html>
<html lang="fr-FR">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>blog.pagesd.info</title>
    <link rel="shortcut icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="alternate" href="/atom.xml" title="blog.pagesd.info" type="application/atom+xml">
    <meta name="author" content="Michel" />
<link rel="canonical" href="https://blog3.pagesd.info/2021/11/26/display-friendly-name-with-enum-tostring/" />
<meta property="og:title" content="Display a friendly name with Enum.ToString()" />
<meta name="description" content="One day I needed to display a label based on the value of one Enum. So I did like every time and I used the Description attribute to define some nice labels." />
<meta property="og:description" content="One day I needed to display a label based on the value of one Enum. So I did like every time and I used the Description attribute to define some nice labels." />
<meta property="og:locale" content="en-US" />
<meta property="og:url" content="https://blog3.pagesd.info/2021/11/26/display-friendly-name-with-enum-tostring/" />
<meta property="og:site_name" content="blog.pagesd.info" />
<meta property="og:type" content="article" />
<meta property="og:image" content="https://blog3.pagesd.info/public/2021/cute-puppies.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="article:published_time" content="2021-11-26T11:12:40.000Z" />
<script type="application/ld+json">{"headline":"blog.pagesd.info","dateModified":"2021-11-26T11:12:40.000Z","datePublished":"2021-11-26T11:12:40.000Z","description":"One day I needed to display a label based on the value of one Enum. So I did like every time and I used the Description attribute to define some nice labels.","inLanguage":"en-US","url":"https://blog3.pagesd.info/2021/11/26/display-friendly-name-with-enum-tostring/","@type":"BlogPosting","image":"https://blog3.pagesd.info/public/2021/cute-puppies.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog3.pagesd.info/2021/11/26/display-friendly-name-with-enum-tostring/"},"author":{"@type":"Person","name":"Michel"},"@context":"https://schema.org"}</script>
  </head>

  <body><div class="container">

    <header><nav>
      <a class="title" href="/">blog.pagesd.info</a>
      // <a href="/archives/">archives</a>
      // <a href="/traductions/">traductions</a>
    </nav></header>



<article>

<figure class="cover-image"><img src="/public/2021/cute-puppies.jpg" alt="Australian Shepherd babies - Jametlene Reskp" /><figcaption><a href="https://unsplash.com/photos/fliwkBbS7oM">Australian Shepherd babies - Jametlene Reskp</a></figcaption></figure>

  <header>
    <h1>
      <a href="/2021/11/26/display-friendly-name-with-enum-tostring/">Display a friendly name with Enum.ToString()</a>
    </h1>
    <p>
      <span>2021-11-26</span>
      <span>#csharp</span><span>#enum</span>
    </p>
  </header>

  <div>

<p>One day I needed to display a label based on the value of one <code>Enum</code>. So I did like every time and I used the <code>Description</code> attribute to define some nice labels.</p>
<pre><code class="language-csharp">using System.ComponentModel;

public enum NatureType
{
    Ouverture,
    Modification,
    [Description(&quot;Déblocage&quot;)]
    Deblocage,
    [Description(&quot;Alerte 3 mois&quot;)]
    Alerte3Mois,
    [Description(&quot;Alerte 6 mois&quot;)]
    Alerte6Mois
}
</code></pre>
<p>Then I copied the rather complicated code that we always been using to read this description attribute. It's a simple extension method, which is a generic method, and which uses some reflection. As I said, a simple block of code that return the description associated to an enum value or default to <code>.ToString()</code> for values without a proper <code>Description</code> attribute:</p>
<pre><code class="language-csharp">public static string GetCaption(this Enum value)
{
    var type = value.GetType();
    var member = type.GetMember(value.ToString());
    if ((member != null &amp;&amp; member.Length &gt; 0))
    {
        var attributes = member[0].GetCustomAttributes(typeof(System.ComponentModel.DescriptionAttribute), false);
        if ((attributes != null &amp;&amp; attributes.Count() &gt; 0))
        {
            return ((System.ComponentModel.DescriptionAttribute)attributes.ElementAt(0)).Description;
        }
    }
    return value.ToString();
}
</code></pre>
<p>Really nothing very complicated. Except to paste this method to the StringHelpers.cs file of my project.</p>
<p>But still, it doesn't cost anything to see if C# would have invented something even simpler or more practical lately. Except a Google Search &quot;c# enum friendly name&quot; + Tools + Past year.</p>
<p>Good news! There are people who worked on it. But unfortunately, nothing new:</p>
<ul>
<li><a href="https://dejanstojanovic.net/aspnet/2021/september/adding-display-name-to-enum-values/">Adding display name to Enum values</a></li>
<li><a href="https://www.delftstack.com/howto/csharp/csharp-enum-to-string/">Convert Enum to String in C#</a></li>
<li><a href="https://newbedev.com/methods-inside-enum-in-c">Methods inside enum in C#</a></li>
</ul>
<p>I have a little time to spare so I try some new things:</p>
<pre><code class="language-csharp">public enum NatureType
{
    Ouverture,
    Modification,
    Déblocage,
    Alerte_3_mois,
    Alerte_6_mois
}
</code></pre>
<p>Ideally, I just have to code a <code>public override string ToString()</code> in order to replace underscores with spaces and I'm done!</p>
<p>But where the hell can I do that?</p>
<p>It doesn't matter, I should be able to try it with an extension method:</p>
<pre><code class="language-csharp">public static string ToString(this Enum value)
{
    return value.ToString().Replace(&quot;_&quot;, &quot; &quot;);
}
</code></pre>
<p>Well, no :( My code compiles without causing an error, but then it's like this method doesn't exist! I set a breakpoint but I don't even get through and I still get the basic <code>.ToString()</code> with underscores ???</p>
<p>That's not going to stop me. I could live with the underscores. Or I do it differently:</p>
<pre><code class="language-csharp">public static string ToCaption(this Enum value)
{
    return value.ToString().Replace(&quot;_&quot;, &quot; &quot;);
}
</code></pre>
<p>I had to decide with <code>.ToFriendlyName()</code> which seems more popular, but <code>.ToCaption()</code> is shorter :)</p>
<p>So okay, that forces me to accept having accents in variable names (well, only in enum value names). But I think I'll use this method from now on, at least in my personal projects.</p>
<div class="encart">
<p>Version en français : <a href="/2021/11/25/afficher-joli-libelle-avec-enum-tostring/" hreflang="fr-FR">Afficher un joli libellé avec Enum.ToString()</a>.</p>
</div>


  </div>

</article><nav class="paginate">
  <a rel="prev" href="/2021/11/25/afficher-joli-libelle-avec-enum-tostring/" hreflang="fr-FR">Afficher un joli libellé avec Enum.ToString()</a>
</nav>



    <footer>
      <a href="/">blog.pagesd.info</a> --
      <a href="https://www.solitaire-play.com/">www.solitaire-play.com</a>
    </footer>

  </div></body>

</html>

<!doctype html>
<html lang="fr-FR">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Two highlight problems on dev.to - blog.pagesd.info</title>
    <link rel="shortcut icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="alternate" href="/atom.xml" title="blog.pagesd.info" type="application/atom+xml">
    <meta name="author" content="Michel" />
<link rel="canonical" href="https://blog.pagesd.info/2021/12/21/highlight-problems-dev-to/" />
<meta property="og:title" content="Two highlight problems on dev.to" />
<meta name="description" content="Yesterday, I had troubles to highlight my Nunjucks code on dev.to. Also, I had a very strange bug with my markdown snippets." />
<meta property="og:description" content="Yesterday, I had troubles to highlight my Nunjucks code on dev.to. Also, I had a very strange bug with my markdown snippets." />
<meta property="og:locale" content="fr-FR" />
<meta property="og:url" content="https://blog.pagesd.info/2021/12/21/highlight-problems-dev-to/" />
<meta property="og:site_name" content="blog.pagesd.info" />
<meta property="og:type" content="article" />
<meta property="og:image" content="https://blog.pagesd.info/public/2021/matrix.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="article:published_time" content="2021-12-21T13:04:18.000Z" />
<script type="application/ld+json">{"headline":"blog.pagesd.info","dateModified":"2021-12-21T13:04:18.000Z","datePublished":"2021-12-21T13:04:18.000Z","description":"Yesterday, I had troubles to highlight my Nunjucks code on dev.to. Also, I had a very strange bug with my markdown snippets.","inLanguage":"fr-FR","url":"https://blog.pagesd.info/2021/12/21/highlight-problems-dev-to/","@type":"BlogPosting","image":"https://blog.pagesd.info/public/2021/matrix.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.pagesd.info/2021/12/21/highlight-problems-dev-to/"},"author":{"@type":"Person","name":"Michel"},"@context":"https://schema.org"}</script>
  </head>

  <body><div class="container">

    <header><nav>
      <a class="title" href="/">blog.pagesd.info</a>
      // <a href="/archives/">archives</a>
      // <a href="/traductions/">traductions</a>
    </nav></header>



<article>

<figure class="cover-image"><img src="/public/2021/matrix.jpg" alt="It's raining code" /><figcaption><a href="https://en.wikipedia.org/wiki/The_Matrix">It's raining code</a></figcaption></figure>

  <header>
    <h1>
      <a href="/2021/12/21/highlight-problems-dev-to/">Two highlight problems on dev.to</a>
    </h1>
    <p>
      <span>2021-12-21</span>
      <span>#11ty</span>
    </p>
  </header>

  <div>

<p>Yesterday, I had troubles to highlight my Nunjucks code on <a href="https://dev.to/">dev.to</a>. Also, I had a very strange bug with my markdown snippets.</p>
<h2>How to highlight Nunjucks on dev.to?</h2>
<p>According to <a href="https://github.com/forem/forem-docs/blob/main/docs/technical-overview/stack.md">Forem technical docs</a>, they use <a href="https://github.com/rouge-ruby/rouge">Rouge</a> to highlight code snippets. Rouge can highlight <a href="https://github.com/rouge-ruby/rouge/blob/master/docs/Languages.md">over 200 different languages</a>. But not <a href="https://github.com/rouge-ruby/rouge/issues/758">Nunjucks</a>... On the other hand, it supports Liquid, Jinja and Twig who look a lot like Nunjucks.</p>
<p>So I did some tests directly on <a href="https://dev.to/michelc/how-to-highlight-nunjucks-on-devto-glm">dev.to</a> (where results are much more relevant than here on my blog where I don't highlight code).</p>
<h3>Using ```liquid</h3>
<pre><code class="language-liquid">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;{{ site.lang }}&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;{{ title }} - {{ site.title }}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- Le contenu généré par Eleventy sera ajouté là --&gt;
  {{ content | safe }}
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3>Using ```jinja</h3>
<pre><code class="language-jinja">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;{{ site.lang }}&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;{{ title }} - {{ site.title }}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- Le contenu généré par Eleventy sera ajouté là --&gt;
  {{ content | safe }}
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3>Using ```twig</h3>
<pre><code class="language-twig">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;{{ site.lang }}&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;{{ title }} - {{ site.title }}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- Le contenu généré par Eleventy sera ajouté là --&gt;
  {{ content | safe }}
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3>Solution</h3>
<p>Liquid doesn't work. Probably because it's the template used by Forem. Jinja and Twig are fine. So I will write my Nunjucks examples by starting my code blocks with <code>```jinja</code>.</p>
<h2>A bug with Markdown highlight?</h2>
<p>I don't know why, but my Markdown code snippets are not all properly highlighted. If you search for &quot;layout: layout.njk&quot; in my post &quot;<a href="https://dev.to/michelc/creation-de-mon-site-eleventy-mo2">Création de mon site Eleventy</a>&quot; on dev.to, the first frontmatter is correctly highlighted. But not in the second and third snippets.</p>
<p>I always wrote:</p>
<pre><code class="language-md">---
layout: layout.njk
---
...
</code></pre>
<p>But the last two times, it generates too many dashes. And it can't to recognize my code anymore?</p>
<pre><code>--------
layout: layout.njk
--------
...
</code></pre>
<p><em>Note: Maybe it's not related to <code>```markdown</code>, because it also does it with only <code>```</code> at the beginning of the code. On dev.to, I write <code>--------</code> (8 dashes) to show exactly what I get on my previous post and it generates <code>-------------</code> (13 dashes) instead :)</em></p>
<p>And if I move these two blocks at the beginning of my post, the highlight is magically fixed...</p>
<p>If anyone has the solution, I'm curious. But it's not that bad.</p>
<p><em>Note: It's fixed! Many thanks to <a href="https://dev.to/djuber/comment/1kikf">Daniel</a> for solving this problem so quickly and to the whole Forem team for building such a good product.</em></p>
<p>Sure, I don't have all this problems on my <a href="https://blog.pagesd.info/">blog</a>. But to be fair, all snippets are just raw code.</p>


  </div>

</article><nav class="paginate">
  <a rel="prev" href="/2021/12/20/eleventy-creation-site/" hreflang="fr-FR">Création de mon site Eleventy</a>
  <a rel="next" href="/2021/12/23/utiliser-htmx-avec-asp-net-core-mvc/" hreflang="fr-FR">Utiliser HTMX avec ASP.NET Core MVC</a>
</nav>



<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<div class="pub"><ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5475403929650645"
     data-ad-slot="8049019520"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins></div>
<script>window.onload = function() { (adsbygoogle = window.adsbygoogle || []).push({}); }</script>

    <footer>
      <a href="/">blog.pagesd.info</a> //
      <a href="https://www.solitaire-play.com/">www.solitaire-play.com</a>
    </footer>

  </div></body>

</html>

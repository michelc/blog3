<!doctype html>
<html lang="fr-FR">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Remplacer les √©mojis de Windows 10 - blog.pagesd.info</title>
    <link rel="shortcut icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="alternate" href="/atom.xml" title="blog.pagesd.info" type="application/atom+xml">
    <meta name="author" content="Michel" />
<link rel="canonical" href="https://blog.pagesd.info/2022/09/19/remplacer-emojis-windows-10/" />
<meta property="og:title" content="Remplacer les √©mojis de Windows 10" />
<meta name="description" content="Il s&#39;av√®re que ce n&#39;est pas si simple que √ßa de remplacer les √©mojis √† l&#39;ancienne de Windows 10 par quelque chose d&#39;un peu plus moderne et joyeux..." />
<meta property="og:description" content="Il s&#39;av√®re que ce n&#39;est pas si simple que √ßa de remplacer les √©mojis √† l&#39;ancienne de Windows 10 par quelque chose d&#39;un peu plus moderne et joyeux..." />
<meta property="og:locale" content="fr-FR" />
<meta property="og:url" content="https://blog.pagesd.info/2022/09/19/remplacer-emojis-windows-10/" />
<meta property="og:site_name" content="blog.pagesd.info" />
<meta property="og:type" content="article" />
<meta property="og:image" content="https://blog.pagesd.info/public/2022/emoji-beebee.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="article:published_time" content="2022-09-19T11:07:24.000Z" />
<script type="application/ld+json">{"headline":"blog.pagesd.info","dateModified":"2022-09-19T11:07:24.000Z","datePublished":"2022-09-19T11:07:24.000Z","description":"Il s'av√®re que ce n'est pas si simple que √ßa de remplacer les √©mojis √† l'ancienne de Windows 10 par quelque chose d'un peu plus moderne et joyeux...","inLanguage":"fr-FR","url":"https://blog.pagesd.info/2022/09/19/remplacer-emojis-windows-10/","@type":"BlogPosting","image":"https://blog.pagesd.info/public/2022/emoji-beebee.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.pagesd.info/2022/09/19/remplacer-emojis-windows-10/"},"author":{"@type":"Person","name":"Michel"},"@context":"https://schema.org"}</script>
  </head>

  <body><div class="container">

    <header><nav>
      <a class="title" href="/">blog.pagesd.info</a>
      // <a href="/archives/">archives</a>
      // <a href="/traductions/">traductions</a>
    </nav></header>



<article>

<figure class="cover-image"><img src="/public/2022/emoji-beebee.png" alt="" /><figcaption>&nbsp;</figcaption></figure>

  <header>
    <h1>
      <a href="/2022/09/19/remplacer-emojis-windows-10/">Remplacer les √©mojis de Windows 10</a>
    </h1>
    <p>
      <span>2022-09-19</span>
      <span>#javascript</span><span>#twitter</span>
    </p>
  </header>

  <div>

<p>Ces derniers temps, je me suis remis sur le d√©veloppement d'une sorte d'application / client Twitter pour me faciliter le suivi des interactions autour de mon jeu de <a href="https://www.solitaire-play.com/lemot/">Wordle en fran√ßais</a> (et des 3 autres que j'ai d√©velopp√©s depuis).</p>
<p>Ce week-end, pour me changer un peu les id√©es, j'ai d√©cid√© d'am√©liorer le rendu des √©mojis.</p>
<p>Au d√©part, comme il s'agit d'une application web, ils sont affich√©s avec la police par d√©faut de Windows 10 pour les √©mojis, ce qui n'est pas super g√©nial :</p>
<figure>
  <img src="/public/2022/emoji-defaut.png" alt="" />
  <figcaption>Les √©mojis de base pour Windows 10</figcaption>
</figure>
<h2>1er essai : &quot;Segoe UI Emoji&quot; de Windows 11</h2>
<p>Pour faire au plus simple, j'ai essay√© d'installer la derni√®re version de la police &quot;Segoe UI Emoji&quot; de Windows 11 et de voir ce que √ßa donnait... Pas grand chose en fait !</p>
<figure>
  <img src="/public/2022/emoji-defaut.png" alt="" />
  <figcaption>Toujours les √©mojis de la police "Segoe UI Emoji" d'origine de Windows 10 :(</figcaption>
</figure>
<p>J'ai maintenant deux polices &quot;Segoe UI Emoji&quot; sur mon PC qui ne semble pas tr√®s chaud pour utiliser la plus r√©cente par d√©faut.</p>
<p>Malgr√© tout, Firefox s'est montr√© plus malin :</p>
<figure>
  <img src="/public/2022/emoji-firefox.png" alt="" />
  <figcaption>Les nouveaux √©mojis de la police "Segoe UI Emoji" de Windows 11 :)</figcaption>
</figure>
<h2>2√®me essai : &quot;Noto Color Emoji&quot; de Google</h2>
<p>Puis j'ai vu passer une nouvelle police de chez Google : &quot;Noto Color Emoji&quot; (<a href="https://fonts.google.com/noto/specimen/Noto+Color+Emoji">https://fonts.google.com/noto/specimen/Noto+Color+Emoji</a>).</p>
<p>Apr√®s l'avoir t√©l√©charg√©e, je pouvais essayer de l'utiliser comme police &quot;syst√®me&quot; pour les √©mojis... Mais il n'y avait pas de raison qu'elle se d√©brouille mieux que la &quot;Segoe UI Emoji&quot; de Microsoft himself.</p>
<p>Et il n'existe rien au niveau HTML / CSS pour indiquer qu'il faut afficher les √©mojis en utilisant une police particuli√®re. Si on veut y arriver, le plus simple est d'englober les √©mojis √† afficher dans une balise <code>&lt;span&gt;</code> avec une classe particuli√®re pour pouvoir d√©finir sa police. Quelque chose comme <code>&lt;span class=&quot;font-emoji&quot;&gt;ü•≥&lt;/span&gt;</code> par exemple...</p>
<p>Alors j'ai bricol√© vite fait un truc pour que les √©mojis soient affich√©s en utilisant cette police. Pour cela, j'ai encadr√© tous les √©mojis dans une &quot;pseudo&quot; balise <code>&lt;e&gt;</code> gr√¢ce √† la fonction suivante :</p>
<pre><code>private string MakePrettyEmojis(string content)
{
    var pretty = &quot;&quot;;
    var runes = content.EnumerateRunes();
    foreach (var r in runes)
    {
        var one = r.ToString();
        if (one == &quot;\u2b1c&quot;)
            pretty += &quot;&lt;e&gt;&quot; + one + &quot;&lt;/e&gt;&quot;;
        else if (one == &quot;\u26aa&quot;)
            pretty += &quot;&lt;e&gt;&quot; + one + &quot;&lt;/e&gt;&quot;;
        else if (r.IsBmp == false)
            pretty += &quot;&lt;e&gt;&quot; + one + &quot;&lt;/e&gt;&quot;;
        else
            pretty += r.ToString();
    }
    pretty = pretty.Replace(&quot;&lt;/e&gt;&lt;e&gt;&quot;, &quot;&quot;);
    return pretty;
}
</code></pre>
<p><em>Note : Comme tous les √©mojis ne sont apparemment pas log√©s √† la m√™me enseigne, il faudra me creuser un peu plus les m√©ninges pour r√©ussir √† g√©rer correctement tous les √©mojis existants (quelque chose dans le genre <code>Regex</code> certainement).</em></p>
<p>La balise <code>&lt;e&gt;</code> n'existe pas mais elle ne semble pas perturber les navigateurs. Et donc, <code>&lt;e&gt;ü•≥&lt;/e&gt;</code> sera quand m√™me plus &quot;discret&quot; qu'un long <code>&lt;span class=&quot;font-emoji&quot;&gt;ü•≥&lt;/span&gt;</code> :)</p>
<p>Je compl√®te mon fichier CSS pour y indiquer que les √©l√©ments <code>&lt;e&gt;</code> doivent √™tre affich√©s avec la police &quot;Noto Color Emoji&quot; :</p>
<pre><code>e {
    font-family: &quot;Noto Color Emoji&quot;
}
</code></pre>
<p>Et le r√©sultat est enfin l√†, quelque soit le navigateur !</p>
<figure>
  <img src="/public/2022/emoji-font-google.png" alt="" />
  <figcaption>Enfin de plus jolis √©mojis !!!</figcaption>
</figure>
<p>Mais j'aime moyen ce petit effet 3D. On se croirait revenu au temps de Windows 3.1 :)</p>
<h2>3√®me essai : &quot;Segoe UI Emoji&quot; le retour</h2>
<p>Bien entendu je tente le coup avec :</p>
<pre><code>e {
    font-family: &quot;Segoe UI Emoji&quot;
}
</code></pre>
<p>Mais comme il y a 2 polices &quot;Segoe UI Emoji&quot; sur mon Windows, la nouvelle ne prend toujours pas le dessus sur l'ancienne... A moins qu'il existe un <code>font-version</code> quelque part...</p>
<figure>
  <img src="/public/2022/emoji-defaut.png" alt="" />
  <figcaption>Retour √† la case d√©part (√† part Firefox)</figcaption>
</figure>
<h2>4√®me essais : &quot;Twitter Color Emoji SVGinOT Font&quot; de ???</h2>
<p>Je cherche s'il existe d'autre polices d'emojis et je tombe sur celle de Twitter, m√™me si cela ressemble plus √† du bricolage qu'√† un truc officiel : <a href="https://github.com/eosrei/twemoji-color-font">https://github.com/eosrei/twemoji-color-font</a>.</p>
<p>Je t√©l√©charge, installe puis :</p>
<pre><code>e {
    font-family: &quot;Twitter Color Emoji&quot;
}
</code></pre>
<p>Et oups...</p>
<figure>
  <img src="/public/2022/emoji-font-twitter.png" alt="" />
  <figcaption>Tous les √©mojis sont gris clair...</figcaption>
</figure>
<h2>5√®me essai : &quot;Emoji for everyone&quot; de Twitter !!!</h2>
<p>Par contre, √ßa m'a conduit sur la page de &quot;Twemoji&quot; : <a href="https://twemoji.twitter.com/">https://twemoji.twitter.com/</a>.</p>
<blockquote>
<p>L'emoji open source de Twitter r√©pond √† tous les besoins de votre projet en
mati√®re d'emoji. Il prend en charge la derni√®re sp√©cification Unicode des
emojis et propose 3 245 emojis, le tout gratuitement.</p>
</blockquote>
<p>Mais c'est g√©nial !</p>
<p>Il semblerait bien que cela soit pile ce que je cherche ! Quelque chose de pas compliqu√© du tout qui remplace tous les √©mojis d'une page par l'image de l'√©moji Twitter correspondant. Ca tombe bien, il me plaisent beaucoup les √©mojis de Twitter moi :)</p>
<p>Je vire ma fonction &quot;MakePrettyEmojis&quot; et mon bout de CSS pour revenir √† la situation de d√©part.</p>
<p>J'ajoute un peu de JavaScript dans mon fichier &quot;_Layout.cshtml&quot; :</p>
<pre><code>&lt;script src=&quot;https://twemoji.maxcdn.com/v/latest/twemoji.min.js&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;

&lt;script&gt;
    window.onload = function () {
        // https://gist.github.com/Armster15/db063ab0dc5be699ae07a067a7333752
        // Parses the document body and
        // inserts &lt;img&gt; tags in place of Unicode Emojis
        twemoji.parse(document.body,
            { folder: 'svg', ext: '.svg' } // This is to specify to Twemoji to use SVGs and not PNGs
        );
    }
&lt;/script&gt;
</code></pre>
<p>Et je dimensionne les √©mojis dans mon CSS :</p>
<pre><code>.emoji {
    height: 1.2em;
    width: 1.2em;
    margin: 0 1px;
}
</code></pre>
<figure>
  <img src="/public/2022/emoji-twitter.png" alt="" />
  <figcaption>Tada ! C'est parfaitement parfait.</figcaption>
</figure>
<h2>Conclusion</h2>
<p>Au d√©part, je comptais remplacer les √©mojis de Windows 10 pour en utiliser de plus modernes (et les derniers de Microsoft m'allaient tr√®s bien). Mais devant les difficult√©s et pour √©viter d'avoir √† &quot;hacker&quot; mon syst√®me, j'ai pr√©f√©r√© me contenter de modifier mon application pour qu'elle affiche les jolis √©mojis de Twitter √† la place.</p>
<div class="encart">
<p>English version: <a href="/2022/09/20/replace-windows-10-emoji/" hreflang="en-US">Replace Windows 10's emoji</a>.</p>
</div>


  </div>

</article><nav class="paginate">
  <a rel="prev" href="/2022/02/02/dark-mode-french-wordle/" hreflang="en-US">Dark mode for French Wordle</a>
  <a rel="next" href="/2022/09/20/replace-windows-10-emoji/" hreflang="en-US">Replace Windows 10&#39;s emoji</a>
</nav>



<div class="pub"><ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5475403929650645"
     data-ad-slot="8049019520"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins></div>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>


    <footer>
      <a href="/">blog.pagesd.info</a> //
      <a href="https://www.solitaire-play.com/">www.solitaire-play.com</a>
      <a rel="me" href="https://pouet.chapril.org/@ms_michel"></a>
    </footer>

  </div>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5475403929650645"
     crossorigin="anonymous"></script>
  </body>

</html>

<!doctype html>
<html lang="fr-FR">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Array.every() et new Set() sauvent LeMOT - blog.pagesd.info</title>
    <link rel="shortcut icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="alternate" href="/atom.xml" title="blog.pagesd.info" type="application/atom+xml">
    <meta name="author" content="Michel" />
<link rel="canonical" href="https://blog.pagesd.info/2023/01/17/array-every-new-set-sauvent-lemot/" />
<meta property="og:title" content="Array.every() et new Set() sauvent LeMOT" />
<meta name="description" content="Hier j&#39;ai eu un petit probl√®me dans mon jeu de Wordle en fran√ßais. La solution √† trouver n&#39;existait pas dans la liste des mots accept√©s et il y a eu quelques parties qui se sont perdues injustement..." />
<meta property="og:description" content="Hier j&#39;ai eu un petit probl√®me dans mon jeu de Wordle en fran√ßais. La solution √† trouver n&#39;existait pas dans la liste des mots accept√©s et il y a eu quelques parties qui se sont perdues injustement..." />
<meta property="og:locale" content="fr-FR" />
<meta property="og:url" content="https://blog.pagesd.info/2023/01/17/array-every-new-set-sauvent-lemot/" />
<meta property="og:site_name" content="blog.pagesd.info" />
<meta property="og:type" content="article" />
<meta property="og:image" content="https://blog.pagesd.info/public/2023/fleur-monoi.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="article:published_time" content="2023-01-17T16:55:17.000Z" />
<script type="application/ld+json">{"headline":"blog.pagesd.info","dateModified":"2023-01-17T16:55:17.000Z","datePublished":"2023-01-17T16:55:17.000Z","description":"Hier j'ai eu un petit probl√®me dans mon jeu de Wordle en fran√ßais. La solution √† trouver n'existait pas dans la liste des mots accept√©s et il y a eu quelques parties qui se sont perdues injustement...","inLanguage":"fr-FR","url":"https://blog.pagesd.info/2023/01/17/array-every-new-set-sauvent-lemot/","@type":"BlogPosting","image":"https://blog.pagesd.info/public/2023/fleur-monoi.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.pagesd.info/2023/01/17/array-every-new-set-sauvent-lemot/"},"author":{"@type":"Person","name":"Michel"},"@context":"https://schema.org"}</script>
  </head>

  <body><div class="container">

    <header><nav>
      <a class="title" href="/">blog.pagesd.info</a>
      // <a href="/archives/">archives</a>
      // <a href="/traductions/">traductions</a>
    </nav></header>



<article>

<figure class="cover-image"><img src="/public/2023/fleur-monoi.png" alt="Fleurs de Tiar√© tahiti, litt√©ralement ¬´¬†fleur tahitienne¬†¬ª" /><figcaption>Fleurs de Tiar√© tahiti, litt√©ralement ¬´¬†fleur tahitienne¬†¬ª</figcaption></figure>

  <header>
    <h1>
      <a href="/2023/01/17/array-every-new-set-sauvent-lemot/">Array.every() et new Set() sauvent LeMOT</a>
    </h1>
    <p>
      <span>2023-01-17</span>
      <span>#javascript</span><span>#jeux</span>
    </p>
  </header>

  <div>

<h2>Y'a comme un bug ?</h2>
<p>Hier j'ai eu un petit probl√®me dans mon jeu de Wordle en fran√ßais. Comme dans le Wordle d'origine, j'utilise 2 listes de mots :</p>
<ul>
<li>la premi√®re avec tous les mots de 5 lettres accept√©s par mon jeu : &quot;jouables&quot;</li>
<li>la seconde avec les mots √† trouver : &quot;gagnants&quot;</li>
</ul>
<p>Contrairement √† Josh Wardle, je n'ai pas pr√©par√© cette liste une fois pour toute lorsque j'ai cr√©√© le jeu. Dans la pratique, je la compl√®te tous les 2 ou 3 mois, en ajoutant entre 50 et 100 mots √† chaque fois. Je prends des mots au hasard dans la liste principale et je fais quelques ajustements pour √©viter les mots trop compliqu√©s ou pas tr√®s heureux...</p>
<p>Une fois ces nouveaux mots trouv√©s, je v√©rifie qu'ils n'ont pas d√©j√† √©t√© propos√©s (pas de doublons) et aussi qu'ils existent bien dans la liste des mots accept√©s (pas de mots introuvables). Je fais √ßa parce qu'il m'arrive de faire une faute de frappe quand je fais mes derniers petits ajustements.</p>
<p>Malheureusement c'est quelque chose que je fais manuellement et la derni√®re fois, j'ai d√ª rater une √©tape. Lundi, le mot √† trouver √©tait &quot;MONOI&quot; (&quot;mono√Ø&quot; avec la bonne orthographe), mais bizarrement ce mot ne faisait pas parti de la liste des mots jouables reconnus par l'application !</p>
<p>Et donc rien √† faire, m√™me en jouant bien on ne pouvait que perdre puis s'entendre dire que la solution √©tait &quot;MONOI&quot; alors que √ßa nous avait √©t√© refus√© juste avant ! üò†üò°</p>
<figure>
  <img src="/public/2023/lemot-monoi.png" alt="" />
  <figcaption>Le bug en action...</figcaption>
</figure>
<h2>Prudence est m√®re de s√ªret√©...</h2>
<p>Aussi pour √©viter que cela ne se reproduise, j'ai d√©sormais automatis√© √ßa directement dans le code. Cela affiche un message lorsque il y a des mots &quot;gagnants&quot; qui n'existent pas dans la liste des mots &quot;jouables&quot; (donc des mots inconnus qui ne seront pas trouvables). Et un autre message si la liste des mots &quot;gagnants&quot; contient des doublons (en cas de mots d√©j√† propos√©s).</p>
<pre><code class="language-javascript">
// V√©rifie que tous les mots gagnants existent dans les mots jouables
if (gagnants.every(elem =&gt; jouables.includes(elem)) === false)
  console.log(&quot;gagnants inconnus !&quot;);

// V√©rifie qu'il n'y a pas de doublon dans les mots gagnants
if (gagnants.length !== [...new Set(gagnants)].length)
  console.log(&quot;gagnants doublons !&quot;);

</code></pre>
<h2>Les zexplications de ChatGPT :</h2>
<pre><code class="language-javascript">// V√©rifie que tous les mots gagnants existent dans les mots jouables
if (gagnants.every(elem =&gt; jouables.includes(elem)) === false)
  console.log(&quot;gagnants inconnus !&quot;);
</code></pre>
<blockquote>
<p>Ce code v√©rifie si tous les √©l√©ments de l'array &quot;gagnants&quot; apparaissent dans l'array &quot;jouables&quot;. Si ce n'est pas le cas, le message &quot;gagnants inconnus !&quot; est affich√© dans la console. La m√©thode &quot;every()&quot; parcourt chaque √©l√©ment de l'array &quot;gagnants&quot; et v√©rifie si cet √©l√©ment existe dans l'array &quot;jouables&quot; en utilisant la m√©thode &quot;includes()&quot;. Si tous les √©l√©ments de &quot;gagnants&quot; existent dans &quot;jouables&quot;, la fonction &quot;every()&quot; renvoie &quot;true&quot; et le code dans la condition if ne sera pas ex√©cut√©, sinon elle renvoie &quot;false&quot; et le code dans la condition if sera ex√©cut√©.</p>
</blockquote>
<pre><code class="language-javascript">// V√©rifie qu'il n'y a pas de doublon dans les mots gagnants
if (gagnants.length !== [...new Set(gagnants)].length)
  console.log(&quot;gagnants doublons !&quot;);
</code></pre>
<blockquote>
<p>Cette ligne de code v√©rifie s'il y a des doublons dans l'array &quot;gagnants&quot;. Elle utilise le &quot;!==&quot; pour v√©rifier si la longueur de l'array &quot;gagnants&quot; est diff√©rente de celle de l'array cr√©√© par la combinaison de &quot;new Set()&quot; et de l'op√©rateur de d√©composition &quot;[...]&quot;. La m√©thode &quot;Set()&quot; cr√©e un nouvel objet Set qui contient les √©l√©ments uniques de l'array pass√© en param√®tre, l'op√©rateur de d√©composition &quot;[...]&quot; permet de convertir ce nouvel objet en array.
Si la longueur de l'array &quot;gagnants&quot; est √©gale √† celle de l'array cr√©√© par la combinaison de &quot;new Set()&quot; et de l'op√©rateur de d√©composition &quot;[...]&quot;, cela signifie qu'il n'y a pas de doublons dans &quot;gagnants&quot; et la condition if ne sera pas ex√©cut√©. Sinon, il y a des doublons dans &quot;gagnants&quot; et le message &quot;gagnants doublons !&quot; sera affich√© dans la console.</p>
</blockquote>
<h2>Que le jeux continue !</h2>
<p>Heureusement, c'est arriv√© une seule fois en un peu plus d'un an de jeu.</p>
<p>Mais au moins, maintenant, si on perd √ßa ne sera plus que la faute √† pas de chance : <a href="https://www.solitaire-play.com/lemot/">https://www.solitaire-play.com/lemot/</a> :)</p>


  </div>

</article><nav class="paginate">
  <a rel="prev" href="/2022/09/20/replace-windows-10-emoji/" hreflang="en-US">Replace Windows 10&#39;s emoji</a>
</nav>



<div class="pub"><ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5475403929650645"
     data-ad-slot="8049019520"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins></div>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>


    <footer>
      <a href="/">blog.pagesd.info</a> //
      <a href="https://www.solitaire-play.com/">www.solitaire-play.com</a>
      <a rel="me" href="https://pouet.chapril.org/@ms_michel"></a>
    </footer>

  </div>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5475403929650645"
     crossorigin="anonymous"></script>
  </body>

</html>
